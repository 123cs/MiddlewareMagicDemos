package com.filter;import java.io.*;import javax.servlet.*;import javax.servlet.http.*;import java.util.*;// Implements Filter classpublic class LoginFilter implements Filter  {   public void  init(FilterConfig config) throws ServletException {      System.out.println("[MyFilter] init()");    }      /*   public void  doFilter(ServletRequest request,  ServletResponse response, FilterChain chain) throws java.io.IOException, ServletException {      String ipAddress = request.getRemoteAddr();      System.out.println("IP "+ ipAddress + ", Time " + new Date().toString());      chain.doFilter(request,response);   }   */   public void doFilter(ServletRequest req, ServletResponse resp, FilterChain chain) throws IOException, ServletException {       HttpServletRequest request = (HttpServletRequest)req;      Object principal = request.getUserPrincipal();      System.out.println("\n\t[LoginFilter] principal = " + principal);      if(principal != null) {          boolean result = request.getUserPrincipal().getName().equals("admin");          System.out.println("\n\t[LoginFilter] request.getUserPrincipal().getName() = "+request.getUserPrincipal().getName()+" \t A  = " + result);          if(!result){               System.out.println("\n\t[LoginFilter] result = " + result);               HttpSession session  = request.getSession(false);               session.invalidate();               request.logout();               request.getRequestDispatcher("/error.html").forward(req, resp);               return;           }      }      chain.doFilter(req, resp);   }     public void destroy( ){      System.out.println("[MyFilter] destroy()");    }}